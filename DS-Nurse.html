<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Потребности новорождённого</title>
    <link rel="manifest" href="data:application/manifest+json;base64,eyJuYW1lIjoi0J/QvtC/0YLQtdC00L3QuNC1INC+0L3QvtCy0L7Rg9C00LvRjyDQvdC+0LLRgNC+0YHRgtCw0L0iLCJzaG9ydF9uYW1lIjoi0J/QvtC/0YLQtdC00L3QuNC1IiwiaWNvbnMiOlt7InNyYyI6Imh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vZmF2aWNvbi5pY28iLCJzaXplcyI6IjE5MngxOTIiLCJ0eXBlIjoiaW1hZ2UvaWNvIn1dLCJ0aGVtZV9jb2xvciI6IiNmZmZmZmYiLCJiYWNrZ3JvdW5kX2NvbG9yIjoiI2ZmZmZmZiIsImRpc3BsYXkiOiJzdGFuZGFsb25lIiwic3RhcnRfdXJsIjoiLiJ9">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f9f9f9;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .item {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            width: 100%;
            max-width: 400px;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .item.overdue {
            border-color: #ff0000;
            background-color: #ffecec;
        }
        .icon {
            font-size: 24px;
            margin-right: 15px;
            color: #666;
        }
        .content {
            flex: 1;
        }
        .title {
            font-size: 18px;
            font-weight: bold;
            margin: 0;
        }
        .description {
            font-size: 14px;
            color: #666;
            margin: 5px 0;
        }
        .last-time {
            font-size: 12px;
            color: #888;
        }
        button {
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 20px;
            padding: 8px 15px;
            font-size: 14px;
            cursor: pointer;
        }
        button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <h1>Потребности новорождённого — приоритет и частота</h1>

    <div class="item" id="feeding">
        <span class="icon">🍼</span>
        <div class="content">
            <p class="title">Кормление</p>
            <p class="description">каждые 2-3 часа днём и ночью</p>
            <p class="last-time">Последний раз: никогда</p>
        </div>
        <button onclick="markDone('feeding', 180)">Сделано сейчас</button>
    </div>

    <div class="item" id="diaper">
        <span class="icon">🩲</span>
        <div class="content">
            <p class="title">Подгузник</p>
            <p class="description">каждые 2-4 часа</p>
            <p class="last-time">Последний раз: никогда</p>
        </div>
        <button onclick="markDone('diaper', 240)">Сделано сейчас</button>
    </div>

    <div class="item" id="sleep">
        <span class="icon">🌙</span>
        <div class="content">
            <p class="title">Сон</p>
            <p class="description">в среднем 14-17 часов в сутки</p>
            <p class="last-time">Последний раз: никогда</p>
        </div>
        <button onclick="markDone('sleep', 1440)">Сделано сейчас</button>
    </div>

    <div class="item" id="temperature">
        <span class="icon">🌡️</span>
        <div class="content">
            <p class="title">Температура</p>
            <p class="description">каждые 2-3 часа</p>
            <p class="last-time">Последний раз: никогда</p>
        </div>
        <button onclick="markDone('temperature', 180)">Сделано сейчас</button>
    </div>

    <div class="item" id="burping">
        <span class="icon">😊</span>
        <div class="content">
            <p class="title">Отрыжка</p>
            <p class="description">после каждого кормления</p>
            <p class="last-time">Последний раз: никогда</p>
        </div>
        <button onclick="markDone('burping', 180)">Сделано сейчас</button>
    </div>

    <div class="item" id="contact">
        <span class="icon">✋</span>
        <div class="content">
            <p class="title">Контакт</p>
            <p class="description">каждый день, многократно</p>
            <p class="last-time">Последний раз: никогда</p>
        </div>
        <button onclick="markDone('contact', 1440)">Сделано сейчас</button>
    </div>

    <script>
        function markDone(id, maxMinutes) {
            const now = Date.now();
            localStorage.setItem(id, now.toString());
            updateTime(id, maxMinutes);
        }

        function updateTime(id, maxMinutes) {
            const lastStr = localStorage.getItem(id);
            const item = document.getElementById(id);
            const lastTimeElem = item.querySelector('.last-time');
            if (lastStr) {
                const last = parseInt(lastStr, 10);
                if (!isNaN(last)) {
                    const diff = Date.now() - last;
                    const minutesAgo = Math.floor(diff / 60000);
                    lastTimeElem.textContent = `Последний раз: ${minutesAgo} мин. назад`;
                    if (minutesAgo > maxMinutes) {
                        item.classList.add('overdue');
                    } else {
                        item.classList.remove('overdue');
                    }
                    return;
                }
            }
            lastTimeElem.textContent = 'Последний раз: никогда';
            item.classList.add('overdue');
        }

        // Инициализация
        const items = [
            {id: 'feeding', max: 180},
            {id: 'diaper', max: 240},
            {id: 'sleep', max: 1440},
            {id: 'temperature', max: 180},
            {id: 'burping', max: 180},
            {id: 'contact', max: 1440}
        ];

        items.forEach(item => updateTime(item.id, item.max));

        // Обновление каждые 60 секунд
        setInterval(() => {
            items.forEach(item => updateTime(item.id, item.max));
        }, 60000);
    </script>
</body>
</html>